# Prompt Type Selector - Now Live! ğŸ‰

## What's New?

You can now **choose which prompt type to use** for model analysis!

## Where to Find It?

### Sidebar â†’ "ğŸ¯ Analysis Focus"

When you enable **"Model Comparison"**, you'll see:

```
Model Analysis Type:
Choose which prompt to use:
  â—‹ ğŸ“Š General Analysis
  â—‹ ğŸ”¬ Methodology Focus
  â—‹ ğŸ“ˆ Results Focus
```

## How It Works

### 1ï¸âƒ£ **Select in Sidebar**
Choose your desired analysis type using the radio buttons.

### 2ï¸âƒ£ **Edit on Main Page**
The main page shows which prompt is currently selected:
```
âœ“ Currently selected: ğŸ“Š General Analysis (change in sidebar)
```

### 3ï¸âƒ£ **Analyze Paper**
Click "Analyze Paper" and **all models** will use the selected prompt type!

### 4ï¸âƒ£ **Verify Results**
After analysis, the expandable section shows:
```
ğŸ“ Using Prompt: ğŸ“Š General Analysis
```

## Example Workflow

### Scenario: You want to deeply analyze the methodology

**Step 1:** Go to sidebar â†’ Select **ğŸ”¬ Methodology Focus**

**Step 2:** (Optional) Edit the methodology prompt on main page:
```
Analyze the methodology in detail:

1. Approach Overview: Summarize methods and design
2. Rigor & Validity: Evaluate soundness
3. Data & Analysis: Assess techniques
4. Reproducibility: Check clarity
5. Limitations: Identify gaps
```

**Step 3:** Click **"Analyze Paper"**

**Step 4:** All 4 models (Deepseek 1.5B, 8B, Mistral, LLaMA3) will analyze the paper focusing on methodology!

## Visual Guide

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SIDEBAR                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¯ Analysis Focus                   â”‚
â”‚   â˜‘ Citation Analysis              â”‚
â”‚   â˜‘ Model Comparison               â”‚
â”‚                                     â”‚
â”‚ Model Analysis Type:                â”‚
â”‚   â— ğŸ“Š General Analysis      â† SELECT HERE
â”‚   â—‹ ğŸ”¬ Methodology Focus            â”‚
â”‚   â—‹ ğŸ“ˆ Results Focus                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â¬‡ï¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       MAIN PAGE                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Model Analysis Prompts           â”‚
â”‚                                     â”‚
â”‚ âœ“ Currently selected:               â”‚
â”‚   ğŸ“Š General Analysis               â”‚
â”‚   (change in sidebar)               â”‚
â”‚                                     â”‚
â”‚ [Tab: ğŸ“Š General Analysis]         â”‚ â† EDIT HERE
â”‚ [Tab: ğŸ”¬ Methodology Focus]        â”‚
â”‚ [Tab: ğŸ“ˆ Results Focus]            â”‚
â”‚                                     â”‚
â”‚ [Analyze Paper]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â¬‡ï¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         RESULTS                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Enhanced Model Analysis          â”‚
â”‚                                     â”‚
â”‚ â–¼ ğŸ“ Using Prompt:                 â”‚
â”‚    ğŸ“Š General Analysis              â”‚ â† VERIFY HERE
â”‚                                     â”‚
â”‚   Active prompt type:               â”‚
â”‚   ğŸ“Š General Analysis               â”‚
â”‚                                     â”‚
â”‚   [General Analysis Prompt shown]   â”‚
â”‚                                     â”‚
â”‚   â–¼ Show all 3 prompts             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## All 3 Prompt Types Explained

### ğŸ“Š General Analysis (Default)
**Best for:** Overall paper review, first-time reading
**Focuses on:** Main topic, methodology overview, key findings, strengths, areas for improvement

### ğŸ”¬ Methodology Focus
**Best for:** Evaluating experimental design and research rigor
**Focuses on:** Methods, validity, data analysis, reproducibility, limitations

### ğŸ“ˆ Results Focus
**Best for:** Deep dive into findings and statistical analysis
**Focuses on:** Key findings with metrics, presentation quality, statistical rigor, claims vs results

## Switch Anytime!

You can:
- âœ… Switch prompt types between analyses
- âœ… Edit all 3 prompts independently
- âœ… Reset individual prompts to defaults
- âœ… See which prompt was used in results

## Technical Implementation

### Files Modified:
- `research_paper_assistant_hybrid_citation.py` (lines 264-280, 776-804, 829)
  - Added radio button selector in sidebar
  - Display selected type on main page
  - Pass selected type to model analyzer
  - Show active prompt in results

### Key Changes:
```python
# Sidebar selector
analysis_type = st.radio(
    "Choose which prompt to use:",
    options=["general", "methodology", "results"],
    ...
)

# Pass to analyzer
result = self.model_analyzer.analyze_paper_single_model(
    text,
    model_name,
    model,
    analysis_type=settings.get("analysis_type", "general"),  # âœ¨ Dynamic!
    ...
)
```

## Benefits

âœ… **Flexibility** - Choose the right analysis for your needs
âœ… **Transparency** - Always know which prompt is being used
âœ… **Customization** - Edit any prompt independently
âœ… **Consistency** - All models use the same selected prompt
âœ… **Easy switching** - Change types without editing prompts

## Quick Reference

| Want to... | Use Prompt Type | Why |
|-----------|----------------|-----|
| Get a complete overview | ğŸ“Š General | Covers everything |
| Evaluate research methods | ğŸ”¬ Methodology | Focuses on approach |
| Analyze findings | ğŸ“ˆ Results | Deep dive into data |
| Check reproducibility | ğŸ”¬ Methodology | Assesses clarity |
| Compare to other work | ğŸ“Š General | Includes strengths/weaknesses |

---

**Try it now:**
```bash
streamlit run research_paper_assistant_hybrid_citation.py
```

1. Open sidebar
2. Enable "Model Comparison"
3. Select a prompt type
4. Upload a paper
5. Click "Analyze Paper"
6. See the difference! ğŸš€
